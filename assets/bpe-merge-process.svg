<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16213e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="stepGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="mergeGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="charGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="600" fill="url(#bgGrad)"/>
  
  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="white">ðŸ”„ Byte Pair Encoding (BPE) Merge Process</text>
  
  <!-- Step 1: Initial Corpus -->
  <rect x="50" y="70" width="800" height="90" rx="10" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
  <text x="75" y="95" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4facfe">Step 1: Initial Corpus &amp; Character Vocabulary</text>
  <text x="75" y="120" font-family="monospace" font-size="14" fill="rgba(255,255,255,0.9)">Corpus: ["low", "lower", "lowest"]</text>
  <text x="75" y="145" font-family="monospace" font-size="14" fill="rgba(255,255,255,0.9)">Characters: [l, o, w, e, r, s, t, &lt;/w&gt;]</text>
  
  <!-- Arrow -->
  <path d="M450 165 L450 185" stroke="#4facfe" stroke-width="3"/>
  <polygon points="450,195 443,180 457,180" fill="#4facfe"/>
  
  <!-- Step 2: Count Pairs -->
  <rect x="50" y="200" width="800" height="90" rx="10" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
  <text x="75" y="225" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#f093fb">Step 2: Count Adjacent Pairs</text>
  <text x="75" y="250" font-family="monospace" font-size="13" fill="rgba(255,255,255,0.9)">Pairs: (l,o):3  (o,w):3  (w,&lt;/w&gt;):1  (w,e):2  (e,r):2  (e,s):1  (s,t):1</text>
  <rect x="680" y="260" width="150" height="25" rx="5" fill="url(#mergeGrad)"/>
  <text x="755" y="278" text-anchor="middle" font-family="Arial" font-size="12" fill="white" font-weight="bold">Most frequent: (l,o)</text>
  
  <!-- Arrow -->
  <path d="M450 295 L450 315" stroke="#f093fb" stroke-width="3"/>
  <polygon points="450,325 443,310 457,310" fill="#f093fb"/>
  
  <!-- Step 3: Merge -->
  <rect x="50" y="330" width="800" height="90" rx="10" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
  <text x="75" y="355" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#00f2fe">Step 3: Merge Most Frequent Pair</text>
  <text x="75" y="380" font-family="monospace" font-size="14" fill="rgba(255,255,255,0.9)">Merge (l,o) â†’ lo</text>
  <text x="75" y="405" font-family="monospace" font-size="14" fill="rgba(255,255,255,0.9)">New Corpus: ["lo", "w", "&lt;/w&gt;", "lo", "w", "e", "r", "&lt;/w&gt;", "lo", "w", "e", "s", "t", "&lt;/w&gt;"]</text>
  
  <!-- Arrow -->
  <path d="M450 425 L450 445" stroke="#00f2fe" stroke-width="3"/>
  <polygon points="450,455 443,440 457,440" fill="#00f2fe"/>
  
  <!-- Step 4: Repeat -->
  <rect x="50" y="460" width="800" height="110" rx="10" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
  <text x="75" y="485" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#667eea">Step 4: Repeat Until Vocab Size Reached</text>
  
  <!-- Merge sequence visualization -->
  <rect x="75" y="500" width="60" height="30" rx="5" fill="url(#charGrad)"/>
  <text x="105" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">lo</text>
  <text x="150" y="520" font-family="Arial" font-size="16" fill="#00f2fe">+</text>
  <rect x="165" y="500" width="40" height="30" rx="5" fill="url(#charGrad)"/>
  <text x="185" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">w</text>
  <text x="220" y="520" font-family="Arial" font-size="16" fill="#00f2fe">â†’</text>
  <rect x="235" y="500" width="60" height="30" rx="5" fill="url(#mergeGrad)"/>
  <text x="265" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">low</text>
  
  <rect x="320" y="500" width="60" height="30" rx="5" fill="url(#charGrad)"/>
  <text x="350" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">low</text>
  <text x="395" y="520" font-family="Arial" font-size="16" fill="#00f2fe">+</text>
  <rect x="410" y="500" width="50" height="30" rx="5" fill="url(#charGrad)"/>
  <text x="435" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">e</text>
  <text x="475" y="520" font-family="Arial" font-size="16" fill="#00f2fe">â†’</text>
  <rect x="490" y="500" width="65" height="30" rx="5" fill="url(#mergeGrad)"/>
  <text x="522" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">lowe</text>
  
  <rect x="580" y="500" width="65" height="30" rx="5" fill="url(#charGrad)"/>
  <text x="612" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">lowe</text>
  <text x="660" y="520" font-family="Arial" font-size="16" fill="#00f2fe">+</text>
  <rect x="675" y="500" width="40" height="30" rx="5" fill="url(#charGrad)"/>
  <text x="695" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">r</text>
  <text x="730" y="520" font-family="Arial" font-size="16" fill="#00f2fe">â†’</text>
  <rect x="745" y="500" width="75" height="30" rx="5" fill="url(#mergeGrad)"/>
  <text x="782" y="520" text-anchor="middle" font-family="monospace" font-size="12" fill="white">lower</text>
  
  <text x="450" y="555" text-anchor="middle" font-family="Arial" font-size="13" fill="rgba(255,255,255,0.7)">...continues until vocabulary reaches target size (e.g., 50,000 tokens)</text>
  
  <!-- Final vocab hint -->
  <text x="450" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="rgba(255,255,255,0.8)">Final Vocabulary: {l, o, w, e, r, s, t, lo, low, lowe, lower, low, es, est, ...}</text>
</svg>